(this["webpackJsonpgiphy-search"]=this["webpackJsonpgiphy-search"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(1),a=n(7),s=n.n(a),o=(n(14),n(2)),i=n(4),u=n(3),f=(n(15),function(){var t=Object(r.useContext)(y),e=Object(o.a)(t,1)[0],n=e.searches,a=e.position,s=e.error,i=n[a.term];if(!i&&!s)return null;return Object(c.jsx)("div",{className:"report",children:s?"An error occured. Please try again!":i[a.offset]&&0===i[a.offset].pagination.total_count?"No results found!":i[a.offset]&&"found ".concat(i[a.offset].pagination.total_count," results")})}),l=n(6),j=n.n(l),p=n(8),b=function(){var t=Object(p.a)(j.a.mark((function t(e,n,c,r){var a,s,o,i=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>4&&void 0!==i[4]?i[4]:0,t.prev=1,t.next=4,fetch("https://api.giphy.com/v1/gifs/search?q=".concat(c,"&api_key=").concat(e,"&limit=").concat(n,"&offset=").concat(a));case 4:if(!(s=t.sent).ok){t.next=11;break}return t.next=8,s.json();case 8:o=t.sent,r({type:"ADD_SEARCH",payload:{term:c,offset:a,result:o}}),r({type:"UPDATE_ERROR",payload:!1});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r({type:"UPDATE_ERROR",payload:!0});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n,c,r){return t.apply(this,arguments)}}(),O=(n(17),function(){var t=Object(r.useContext)(y),e=Object(o.a)(t,2),n=e[0],a=n.apiKey,s=n.limit,i=n.searches,u=e[1],l=Object(r.useState)(""),j=Object(o.a)(l,2),p=j[0],O=j[1];return Object(c.jsxs)("div",{className:"search",children:[Object(c.jsxs)("form",{onSubmit:function(t){u({type:"UPDATE_POSITION",payload:{term:p,offset:0}}),i[p]||b(a,s,p,u),t.preventDefault()},children:[Object(c.jsx)("input",{type:"text",value:p,onChange:function(t){O(t.target.value)}}),Object(c.jsx)("input",{type:"submit",value:"Giphy Search"})]}),Object(c.jsx)(f,{})]})}),h=(n(18),function(t){var e=t.data,n=e.title,r=e.images,a=e.bitly_url;return Object(c.jsx)("div",{className:"gif",children:Object(c.jsx)("a",{href:a,children:Object(c.jsx)("img",{src:r.fixed_height.url,alt:n})})})}),d=(n(19),function(){var t=Object(r.useContext)(y),e=Object(o.a)(t,1)[0],n=e.searches,a=e.position,s=a.term,i=a.offset;return n[s]&&n[s][i]?Object(c.jsx)("div",{className:"gifs",children:n[s][i].data.map((function(t){return Object(c.jsx)(h,{data:t},t.id)}))}):null}),x=(n(20),function(){var t=Object(r.useContext)(y),e=Object(o.a)(t,2),n=e[0],a=n.apiKey,s=n.limit,i=n.searches,u=n.position,f=e[1],l=u.term,j=u.offset,p=i[l];if(!p||!p[j]||0===p[j].data.length)return null;var O=p[j].pagination,h=O.total_count,d=O.offset,x=Math.ceil(h/s),m=d/s+1,v=function(){f({type:"UPDATE_POSITION",payload:{term:l,offset:d-s}}),p[d-s]||b(a,s,l,f,d-s)},g=function(){f({type:"UPDATE_POSITION",payload:{term:l,offset:d+s}}),p[d+s]||b(a,s,l,f,d+s)},P=function(t){f({type:"UPDATE_POSITION",payload:{term:l,offset:t*s}}),p[t*s]||b(a,s,l,f,t*s)};return Object(c.jsx)("div",{className:"pagination",children:function(){var t=[],e=x-m,n=m<=6?m:e>=5?6:e<5&&10-e<m?10-e+1:5,r=e<=5?e:11-n;1!==m&&t.push(Object(c.jsx)("button",{type:"button",onClick:v,children:"Previous"},"previous"));for(var a=function(e){t.push(Object(c.jsx)("button",{type:"button",onClick:function(){return P(e)},children:e+1},e+1))},s=m-n;s<m-1;s++)a(s);t.push(Object(c.jsx)("span",{className:"current",children:m},m));for(var o=function(e){t.push(Object(c.jsx)("button",{type:"button",onClick:function(){return P(m+e)},children:m+1+e},m+1+e))},i=0;i<r;i++)o(i);return m!==x&&t.push(Object(c.jsx)("button",{type:"button",onClick:g,children:"Next"},"next")),t}()})}),y=Object(r.createContext)([null,function(){}]),m=function(){var t=Object(r.useReducer)((function(t,e){var n=e.type,c=e.payload;switch(n){case"UPDATE_ERROR":return Object(u.a)(Object(u.a)({},t),{},{error:c});case"UPDATE_POSITION":return Object(u.a)(Object(u.a)({},t),{},{position:{term:c.term,offset:c.offset}});case"ADD_SEARCH":return Object(u.a)(Object(u.a)({},t),{},{searches:Object(u.a)(Object(u.a)({},t.searches),{},Object(i.a)({},c.term,Object(u.a)(Object(u.a)({},t.searches[c.term]),{},Object(i.a)({},c.offset,c.result))))});default:return t}}),{searches:{},error:!1,position:{term:null,offset:0},apiKey:"brXMsD0cTFgrd7yQh6u17ilSMIhDz2t9",limit:8}),e=Object(o.a)(t,2),n=e[0],a=e[1];return Object(c.jsxs)(y.Provider,{value:[n,a],children:[Object(c.jsx)(O,{}),Object(c.jsx)(d,{}),Object(c.jsx)(x,{})]})};s.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.5d6c6c26.chunk.js.map