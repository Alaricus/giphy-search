(this["webpackJsonpgiphy-search"]=this["webpackJsonpgiphy-search"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),u=(a(12),a(1)),s=a(3),i=a(2),l=(a(13),function(){var e=Object(n.useContext)(O),t=Object(u.a)(e,1)[0],a=t.searches,c=t.position,o=t.error,s=a[c.term];if(!s&&!o)return null;return r.a.createElement("div",{className:"report"},o?"An error occured. Please try again!":s[c.offset]&&0===s[c.offset].pagination.total_count?"No results found!":s[c.offset]&&"found ".concat(s[c.offset].pagination.total_count," results"))}),f=a(4),p=a.n(f),m=function(e,t,a,n){var r,c,o,u=arguments;return p.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return r=u.length>4&&void 0!==u[4]?u[4]:0,s.prev=1,s.next=4,p.a.awrap(fetch("http://api.giphy.com/v1/gifs/search?q=".concat(a,"&api_key=").concat(e,"&limit=").concat(t,"&offset=").concat(r)));case 4:if(!(c=s.sent).ok){s.next=11;break}return s.next=8,p.a.awrap(c.json());case 8:o=s.sent,n({type:"ADD_SEARCH",payload:{term:a,offset:r,result:o}}),n({type:"UPDATE_ERROR",payload:!1});case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(1),n({type:"UPDATE_ERROR",payload:!0});case 16:case"end":return s.stop()}}),null,null,[[1,13]])},y=(a(15),function(){var e=Object(n.useContext)(O),t=Object(u.a)(e,2),a=t[0],c=a.apiKey,o=a.limit,s=a.searches,i=t[1],f=Object(n.useState)(""),p=Object(u.a)(f,2),y=p[0],h=p[1];return r.a.createElement("div",{className:"search"},r.a.createElement("form",{onSubmit:function(e){i({type:"UPDATE_POSITION",payload:{term:y,offset:0}}),s[y]||m(c,o,y,i),e.preventDefault()}},r.a.createElement("input",{type:"text",value:y,onChange:function(e){h(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Giphy Search"})),r.a.createElement(l,null))}),h=(a(16),function(e){var t=e.data,a=t.title,n=t.images,c=t.bitly_url;return r.a.createElement("div",{className:"gif"},r.a.createElement("a",{href:c},r.a.createElement("img",{src:n.fixed_height.url,alt:a})))}),b=(a(17),function(){var e=Object(n.useContext)(O),t=Object(u.a)(e,1)[0],a=t.searches,c=t.position,o=c.term,s=c.offset;return a[o]&&a[o][s]?r.a.createElement("div",{className:"gifs"},a[o][s].data.map((function(e){return r.a.createElement(h,{key:e.id,data:e})}))):null}),E=(a(18),function(){var e=Object(n.useContext)(O),t=Object(u.a)(e,2),a=t[0],c=a.apiKey,o=a.limit,s=a.searches,i=a.position,l=t[1],f=i.term,p=i.offset,y=s[f];if(!y||!y[p]||0===y[p].data.length)return null;var h=y[p].pagination,b=h.total_count,E=h.offset,d=Math.ceil(b/o),v=E/o+1,j=function(){l({type:"UPDATE_POSITION",payload:{term:f,offset:E-o}}),y[E-o]||m(c,o,f,l,E-o)},g=function(){l({type:"UPDATE_POSITION",payload:{term:f,offset:E+o}}),y[E+o]||m(c,o,f,l,E+o)},k=function(e){l({type:"UPDATE_POSITION",payload:{term:f,offset:e*o}}),y[e*o]||m(c,o,f,l,e*o)};return r.a.createElement("div",{className:"pagination"},function(){var e=[],t=d-v,a=v<=6?v:t>=5?6:t<5&&10-t<v?10-t+1:5,n=t<=5?t:11-a;1!==v&&e.push(r.a.createElement("button",{type:"button",key:"previous",onClick:j},"Previous"));for(var c=function(t){e.push(r.a.createElement("button",{type:"button",key:t+1,onClick:function(){return k(t)}},t+1))},o=v-a;o<v-1;o++)c(o);e.push(r.a.createElement("span",{key:v,className:"current"},v));for(var u=function(t){e.push(r.a.createElement("button",{type:"button",key:v+1+t,onClick:function(){return k(v+t)}},v+1+t))},s=0;s<n;s++)u(s);return v!==d&&e.push(r.a.createElement("button",{type:"button",key:"next",onClick:g},"Next")),e}())}),O=Object(n.createContext)([null,function(){}]),d=function(){var e=Object(n.useReducer)((function(e,t){var a=t.type,n=t.payload;switch(a){case"UPDATE_ERROR":return Object(i.a)({},e,{error:n});case"UPDATE_POSITION":return Object(i.a)({},e,{position:{term:n.term,offset:n.offset}});case"ADD_SEARCH":return Object(i.a)({},e,{searches:Object(i.a)({},e.searches,Object(s.a)({},n.term,Object(i.a)({},e.searches[n.term],Object(s.a)({},n.offset,n.result))))});default:return e}}),{searches:{},error:!1,position:{term:null,offset:0},apiKey:"brXMsD0cTFgrd7yQh6u17ilSMIhDz2t9",limit:8}),t=Object(u.a)(e,2),a=t[0],c=t[1];return r.a.createElement(O.Provider,{value:[a,c]},r.a.createElement(y,null),r.a.createElement(b,null),r.a.createElement(E,null))};o.a.render(r.a.createElement(d,null),document.getElementById("root"))}],[[7,1,2]]]);
//# sourceMappingURL=main.66663079.chunk.js.map